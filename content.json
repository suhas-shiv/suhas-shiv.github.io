{"meta":{"title":"Suhas Blog","subtitle":null,"description":"My Experiments with Tech Blogging","author":"Suhas S","url":"http://suhasshiv.com"},"pages":[{"title":"Categories","date":"2017-01-27T10:14:26.625Z","updated":"2017-01-27T10:14:26.625Z","comments":true,"path":"categories/index.html","permalink":"http://suhasshiv.com/categories/index.html","excerpt":"","text":""},{"title":"About Suhas Shivaram","date":"2017-01-29T04:27:29.952Z","updated":"2017-01-29T04:27:29.952Z","comments":true,"path":"about/index.html","permalink":"http://suhasshiv.com/about/index.html","excerpt":"","text":"This is suhas"},{"title":"Tags","date":"2017-01-28T05:24:53.329Z","updated":"2017-01-28T05:24:53.329Z","comments":true,"path":"tags/index.html","permalink":"http://suhasshiv.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Solr Installation & setup","slug":"Solr-Setup","date":"2017-02-05T06:17:18.119Z","updated":"2017-02-05T15:13:15.367Z","comments":true,"path":"2017/02/05/Solr-Setup/","link":"","permalink":"http://suhasshiv.com/2017/02/05/Solr-Setup/","excerpt":"Sitecore supports Lucene and Solr search engines. While Lucene is provided out of the box with Sitecore; Solr needs installation, setup and configuration updates. This post provides detailed documentation on Solr installation and setup.","text":"Sitecore supports Lucene and Solr search engines. While Lucene is provided out of the box with Sitecore; Solr needs installation, setup and configuration updates. This post provides detailed documentation on Solr installation and setup. Softwares and versions used Sitecore : Version 8.1 Update 2 Solr: Version 5.4.1 JRE : Version 8u101 Steps to installation Download Solr-5.4.1.zip from the following linkhttp://archive.apache.org/dist/lucene/solr/5.4.1/ Create a folder “C:\\Solr” and Extract your zip file into “Solr” folder. Cut and paste the contents from the extracted folder “Solr-5.4.1” into “Solr” folder. Leave the extracted as it is for future reference to know the version of the Solr version. The Solr folder looks as seen below. Check for the jre installed on your machine, here – “C:\\Program Files\\Java”. If it is not installed, install from – http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html Upon installation/if already installed. Go to Computer-&gt; Properties -&gt; Advanced system settings-&gt; Environment Variables (“Advanced” tab) Click on Environment Variables and check for “JAVA_HOME” under the “System variables” Open command prompt as admin. Change the path to “C:Solr\\bin”. Now execute the following command to start the solr service on port- 8983.solr start -p 8983The following success message is seen after running the above command. Open your browser and type – “localhost:8983/solr” which shows up the Solr admin panel. Create a new core for the indexes. Separate core for every index. Execute the following command to create new core:solr create -c [core_name] -p 8983Eg: solr create -c sitecore_analytics_index -p 8983Note: At point if you run into any issue, please consider restarting/stopping/starting Solr by executing the following command:Restart cmd: solr restart -p 8983Stop cmd: solr stop -p 8983Start cmd: solr start -p 8983 Go back to your solr admin panel and verify the newly created core is showing up under the “Core Admin” menu. Go ahead and create the additional cores for web, master and core by repeating the step 8. The cores created above can now be found under the Solr folder that was created in step 2. Navigate to the following folder – “C:\\Solr\\server\\solr” where the folders matching the names of the above cores can be found. Login to your sitecore. Go to “Control Panel”. Click on “Generate the Solr Schema.xml file”. Update the Source file path to the “conf” folder under your core folder. Update as seen in the below images. Repeat the same for all the cores created. Under same “conf” folder, open the “solrconfig.xml” file and search for: “ClassicIndexSchemaFactory” and uncomment the whole line. (can be moved above the comment section which it is currently in) “ManagedIndexSchemaFactory” and comment the complete schemaFactory section. Comment out the complete node ““. Go to Solr admin panel and reload all the cores. Add Castle.Core v3.3.x and Castle.Windsor dll v3.1.0 reference in to the project. Add references to solr api’s which can be got from the following link. Scroll down to find “Solr support package” and download the zip.https://dev.sitecore.net/Downloads/Sitecore_Experience_Platform/Sitecore_81/Sitecore_Experience_Platform_81_Update2.aspx Extract the downloaded package and add the reference in the project to the following dll’s.NOTE: If setting up solr on the project, step 15 and 16 are to be done on the project and when compiled these files will be compiled into deploy location (using TDS).If setting up solr on the deploy location, the above dll’s mentioned in step 15 and 16 can be directly copied to bin folder under the deloy location. If setting up solr on the project, update the Global.asax.cs with the following code.123456789101112131415161718192021222324252627282930using Sitecore.ContentSearch.SolrProvider.CastleWindsorIntegration;using Sitecore.Diagnostics;namespace sample.com.Web&#123; public class Global : WindsorApplication &#123; public override void Application_Start() &#123; //ViewEngines.Engines.Add(new CustomViewEngine()); // Code that runs on application startup AreaRegistration.RegisterAllAreas(); GlobalConfiguration.Configure(WebApiConfig.Register); RouteConfig.RegisterRoutes(RouteTable.Routes); FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters); //START: For Solr ONLY, comment out if for Lucene try &#123; base.Application_Start(); &#125; catch (Exception e) &#123; Log.Error(&quot;Unable to connect to SOLR&quot;, e, this); &#125; //END: For Solr ONLY, comment out if for Lucene MvcHandler.DisableMvcResponseHeader = true; &#125; &#125;&#125; If setting up solr on the deploy location, update the Global.asax with following line.1&lt;%@Application Language=’C#’ Inherits=”Sitecore.ContentSearch.SolrProvider.CastleWindsorIntegration.WindsorApplication”%&gt;” 19. Disable all the lucene config files under the “App.config/include” folder by searching for lucene keyword. Update all the lucene config by appending the file name with “.disabled”. Enable the following solr config files under “App.config/include” by deleting the “.example” extension. Now you’re done with the complete Solr setup. Go to “Control Panel” in sitecore and click on “Indexing Manager”. Continue to index on the “Indexing Manager” window.Attaching schema.xml for reference.Schema xml References https://doc.sitecore.net/sitecore_experience_platform/81/setting_up_and_maintaining/search_and_indexing/walkthrough_setting_up_solr","categories":[{"name":"Sitecore Search","slug":"Sitecore-Search","permalink":"http://suhasshiv.com/categories/Sitecore-Search/"}],"tags":[{"name":"Solr","slug":"Solr","permalink":"http://suhasshiv.com/tags/Solr/"}]}]}